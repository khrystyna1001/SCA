{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/khrystynka/Desktop/SCA/frontend/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, FormEvent } from 'react';\nimport ErrorPage from './error';\n\ninterface Target {\n  id?: number;\n  name: string;\n  country: string;\n  notes: string;\n  state: boolean;\n}\n\ninterface Mission {\n  id: number;\n  cat: number | null;\n  state: boolean;\n  targets: Target[];\n}\n\nconst API_URL = 'http://127.0.0.1:8000/api/cats';\n\nasync function fetcher<T>(url: string, method: string = 'GET', body: any = null): Promise<T> {\n  const options: RequestInit = {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  if (body) {\n    options.body = JSON.stringify(body);\n  }\n  const response = await fetch(url, options);\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(JSON.stringify(errorData));\n  }\n  return response.json();\n}\n\nexport default function Home() {\n  const [missions, setMissions] = useState<Mission[]>([]);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchMissions();\n  }, []);\n\n  const fetchMissions = async () => {\n    try {\n      setLoading(true);\n      const data = await fetcher<Mission[]>(`${API_URL}/missions/`); \n      setMissions(data);\n      setError(null);\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAssignCat = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    const missionId = formData.get('missionId');\n    const catId = formData.get('catId');\n\n    if (!missionId || !catId) {\n      alert('Please enter both Mission ID and Cat ID.');\n      return;\n    }\n\n    try {\n      await fetcher(`${API_URL}/missions/${missionId}/assign_cat/`, 'PATCH', { cat_id: parseInt(catId as string) });\n      alert('Cat assigned successfully!');\n      fetchMissions();\n    } catch (err: any) {\n      alert(`Error assigning cat: ${err.message}`);\n    }\n  };\n\n  const handleCreateMission = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    const newMissionCatId = formData.get('newMissionCatId');\n    const targetName = formData.get('targetName');\n    const targetCountry = formData.get('targetCountry');\n\n    if (!targetName || !targetCountry) {\n        alert('Please enter Target Name and Target Country.');\n        return;\n    }\n\n    const missionData = {\n      cat: newMissionCatId ? parseInt(newMissionCatId as string) : null,\n      targets: [{\n        name: targetName,\n        country: targetCountry,\n        notes: 'Initial notes.',\n        state: false\n      }]\n    };\n\n    try {\n      await fetcher(`${API_URL}/missions/`, 'POST', missionData);\n      alert('Mission created successfully!');\n      e.currentTarget.reset();\n      fetchMissions();\n    } catch (err: any) {\n      alert(`Error creating mission: ${err.message}`);\n    }\n  };\n\n  return (\n    <>\n    {error ? (\n            <ErrorComponent message={error} onRetry={fetchMissions} />\n        ) : (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6 sm:p-8\">\n      <div className=\"container mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-10 border border-gray-100\">\n        <h1 className=\"text-4xl font-extrabold text-center text-gray-900 mb-10 tracking-tight\">\n          Cat Mission Control üêæ\n        </h1>\n\n        <div className=\"grid md:grid-cols-2 gap-8 mb-10\">\n          {/* Assign Cat Section */}\n          <section className=\"bg-white p-6 border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-5\">Assign a Cat to a Mission</h2>\n            <form onSubmit={handleAssignCat} className=\"flex flex-col space-y-4\">\n              <input \n                type=\"number\" \n                name=\"missionId\" \n                placeholder=\"Mission ID\" \n                required \n                className=\"p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 transition-all duration-200\" \n              />\n              <input \n                type=\"number\" \n                name=\"catId\" \n                placeholder=\"Cat ID\" \n                required \n                className=\"p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 transition-all duration-200\" \n              />\n              <button \n                type=\"submit\" \n                className=\"bg-blue-600 text-white p-3 rounded-md hover:bg-blue-700 transition-colors duration-300 shadow-md\"\n              >\n                Assign Cat\n              </button>\n            </form>\n          </section>\n\n          {/* Create Mission Section */}\n          <section className=\"bg-white p-6 border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-5\">Create a New Mission</h2>\n            <form onSubmit={handleCreateMission} className=\"flex flex-col space-y-4\">\n              <input \n                type=\"number\" \n                name=\"newMissionCatId\" \n                placeholder=\"Cat ID (optional)\" \n                className=\"p-3 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 transition-all duration-200\" \n              />\n              <input \n                type=\"text\" \n                name=\"targetName\" \n                placeholder=\"Target Name\" \n                required \n                className=\"p-3 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 transition-all duration-200\" \n              />\n              <input \n                type=\"text\" \n                name=\"targetCountry\" \n                placeholder=\"Target Country\" \n                required \n                className=\"p-3 border border-gray-300 rounded-md focus:ring-green-500 focus:border-green-500 transition-all duration-200\" \n              />\n              <button \n                type=\"submit\" \n                className=\"bg-green-600 text-white p-3 rounded-md hover:bg-green-700 transition-colors duration-300 shadow-md\"\n              >\n                Create Mission\n              </button>\n            </form>\n          </section>\n        </div>\n\n        <hr className=\"my-10 border-gray-200\" />\n\n        {/* Current Missions Section */}\n        <section>\n          <h2 className=\"text-3xl font-bold text-gray-800 mb-6 text-center\">Current Missions Overview</h2>\n          {loading && <p className=\"text-center text-gray-600 text-lg\">Loading missions...</p>}\n          {error && <p className=\"text-center text-red-600 text-lg\">Error: {error}</p>}\n          {!loading && missions.length === 0 && <p className=\"text-center text-gray-600 text-lg\">No missions found. Create one!</p>}\n          \n          <div className=\"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {!loading && missions.map((mission) => (\n              <div key={mission.id} className=\"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-200 flex flex-col\">\n                <h3 className=\"text-xl font-bold text-indigo-700 mb-3 flex items-center\">\n                  Mission <span className=\"text-gray-500 text-sm ml-2\">#{mission.id}</span>\n                </h3>\n                <p className=\"text-gray-700 mb-1\">\n                  <strong>Assigned Cat:</strong> {mission.cat ? <span className=\"text-indigo-600 font-medium\">{mission.cat}</span> : <span className=\"text-gray-500 italic\">Unassigned</span>}\n                </p>\n                <p className=\"text-gray-700 mb-4\">\n                  <strong>Status:</strong>{' '}\n                  <span className={`font-semibold ${mission.state ? 'text-green-600' : 'text-yellow-600'}`}>\n                    {mission.state ? 'Completed' : 'Active'}\n                  </span>\n                </p>\n                \n                <h4 className=\"font-bold text-gray-800 mb-2 mt-auto\">Targets:</h4>\n                {mission.targets.length > 0 ? (\n                    <ul className=\"list-disc list-inside text-gray-700 space-y-1\">\n                        {mission.targets.map((target) => (\n                            <li key={target.id || target.name} className=\"flex items-start\">\n                                <span className={`w-2 h-2 rounded-full mt-1 mr-2 ${target.state ? 'bg-green-500' : 'bg-gray-400'}`}></span>\n                                <div>\n                                    <strong className=\"text-indigo-600\">{target.name}</strong> ({target.country})<br/>\n                                    <span className=\"text-sm italic text-gray-600\">{target.notes}</span>\n                                </div>\n                            </li>\n                        ))}\n                    </ul>\n                ) : (\n                    <p className=\"text-sm italic text-gray-500\">No targets for this mission.</p>\n                )}\n              </div>\n            ))}\n          </div>\n        </section>\n      </div>\n    </div>\n        )}\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["file:///Users/khrystynka/Desktop/SCA/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":["file:///Users/khrystynka/Desktop/SCA/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 516, "column": 0}, "map": {"version":3,"sources":["file:///Users/khrystynka/Desktop/SCA/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}